# Apache Kafka Docker Compose

ฺฉ ุฑุงูโุงูุฏุงุฒ ุณุฑุน ุจุง ุขูพุงฺ ฺฉุงูฺฉุง ุจู ูุณูู ุฏุงฺฉุฑ ฺฉุงููพูุฒ ุจุฑุง ูุญุทโูุง ุชูุณุนู ู ุชุณุช.

๐ ูฺฺฏโูุง
โ Apache Kafka (ุจุง Confluent image)

โ Apache Zookeeper

โ Kafka UI (ูุฏุฑุช ู ูุงูุชูุฑูฺฏ ุจุตุฑ)

โ ุณุฑูุณ ุฑุฒุฑู ููุจุช Real-time

โ ุณุณุชู ููุชูฺฉุดู ุขููุงู

โ ูพฺฉุฑุจูุฏ ุจููู ุจุฑุง ุชูุณุนู

โ ูพุดุชุจุงู ุงุฒ ุงุชุตุงู ุฏุงุฎู ู ุฎุงุฑุฌ

## ๐ ูพุดโูุงุฒูุง

- [Docker](https://docs.docker.com/get-docker/) (ูุฑฺู 20.10+)
- [Docker Compose](https://docs.docker.com/compose/install/) (ูุฑฺู 2.0+)

## ๐๏ธ ุฑุงูโุงูุฏุงุฒ

1. **ฺฉููู ุง ุฏุงูููุฏ ูพุฑูฺู**:

```bash
git clone https://github.com/naderii/kafka
cd kafka-docker-compose
```

2. **ุงุฌุฑุง ุณุฑูุณโูุง**:

```bash
docker-compose up -d
```

3. **ุจุฑุฑุณ ูุถุนุช ุณุฑูุณโูุง**:

```bash
docker ps
```
## ๐ ุฏุณุชุฑุณ ุจู ุณุฑูุณโูุง

| ุณุฑูุณ               | ูพูุฑุช  | ุฏุณุชุฑุณ       | ุชูุถุญุงุช                       |
|---------------------|-------|--------------|--------------------------------|
| Kafka (ุฏุงุฎู)       | 9092  | ุฏุงุฎู Docker  | ุงุฑุชุจุงุท ุจู ุณุฑูุณโูุง ุฏุงุฎู ุดุจฺฉู Docker |
| Kafka (ุฎุงุฑุฌ)       | 9093  | ุฑู ูุฒุจุงู   | ุงุฑุชุจุงุท ุจุง ุจุฑูุงููโูุง ุฎุงุฑุฌ ุงุฒ Docker    |
| Zookeeper           | 2181  | ุฏุงุฎู/ุฎุงุฑุฌ  | ูุฏุฑุช Kafka Cluster            |
| Kafka UI            | 8080  | ุฑู ูุฒุจุงู   | ุฑุงุจุท ฺฏุฑุงูฺฉ ุจุฑุง ูุฏุฑุช Kafka |
| Frontend            | 3000  | ุฑู ูุฒุจุงู   | ุฑุงุจุท ฺฉุงุฑุจุฑ ุณุณุชู ุฑุฒุฑู         |
| Booking Service     | 5000  | ุฏุงุฎู        | Backend ุณุณุชู ุฑุฒุฑู              |
| Notification Service| 5001  | ุฏุงุฎู        | ุณุฑูุณ ุงุฑุณุงู ููุชูฺฉุดู ูุญุธูโุง |

---

## ๐ ูุฏุฑุช Kafka ุจุง Kafka UI

ุจู ุฑุงุจุท ูุฏุฑุช Kafka ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ:  
๐ **http://localhost:8080**

ุงูฺฉุงูุงุช:
- ูุดุงูุฏู **Topic**โูุง ู **Partition**โูุง
- ูุงูุชูุฑูฺฏ ูพุงูโูุง ู **Consumer Group**โูุง
- ูุฏุฑุช Kafka Cluster
- ุจุฑุฑุณ **Metrics** ู ุขูุงุฑ ุณุณุชู

---

## ๐ฏ ุฏุณุชุฑุณ ุจู ุณุณุชู ุฑุฒุฑู

ุฑุงุจุท ฺฉุงุฑุจุฑ ุณุณุชู ุฑุฒุฑู ุงุฒ ุขุฏุฑุณ ุฒุฑ ูุงุจู ุฏุณุชุฑุณ ุงุณุช:  
๐ **http://localhost:3000**

ุงูฺฉุงูุงุช:
- ุฑุฒุฑู ููุจุช ุขููุงู
- ูุดุงูุฏู ููุชูฺฉุดูโูุง ูุญุธูโุง
- ูุฏุฑุช ุฎุฏูุงุช ูุฎุชูู

---

### ุจุฑุง ุจุฑูุงููโูุง ุฏุงุฎู ุดุจฺฉู ุฏุงฺฉุฑ:

```bash
bootstrap.servers=kafka:9092
```

### ุจุฑุง ุจุฑูุงููโูุง ุฎุงุฑุฌ ุงุฒ ุฏุงฺฉุฑ (ุฑู ูุฒุจุงู):

```bash
bootstrap.servers=localhost:9093
```

## ๐ ูุฏุฑุช ุจุง Kafka UI

ุจู ุฑุงุจุท ูุฏุฑุช ฺฉุงูฺฉุง ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ:  
๐ **http://localhost:8080**

ุงูฺฉุงูุงุช:
- ูุดุงูุฏู ุชุงูพฺฉโูุง ู ูพุงุฑุชุดูโูุง
- ูุงูุชูุฑูฺฏ ูพุงูโูุง
- ูุฏุฑุช consumer groups
- ุจุฑุฑุณ metrics ู ุขูุงุฑ

## ๐งช ุชุณุช ุณุฑุน

### ุงุฌุงุฏ ุชุงูพฺฉ ุชุณุช:

```bash
docker exec -it kafka kafka-topics \
  --create \
  --topic test-topic \
  --bootstrap-server kafka:9092 \
  --partitions 1 \
  --replication-factor \
  ```

### ุชููุฏ ูพุงู:

```bash
docker exec -it kafka kafka-console-producer \
  --topic test-topic \
  --bootstrap-server kafka:9092
  ```

### ูุตุฑู ูพุงู:
```bash
docker exec -it kafka kafka-console-consumer \
  --topic test-topic \
  --bootstrap-server kafka:9092 \
  --from-beginning
  ```

## โ๏ธ ูพฺฉุฑุจูุฏ

### ูุชุบุฑูุง ูุญุท ููู ฺฉุงูฺฉุง:

| ูุชุบุฑ | ููุฏุงุฑ ูพุดโูุฑุถ | ุชูุถุญุงุช |
|-------|---------------|---------|
| `KAFKA_BROKER_ID` | 1 | ุดูุงุณู ุจุฑูฺฉุฑ |
| `KAFKA_ZOOKEEPER_CONNECT` | zookeeper:2181 | ุขุฏุฑุณ ุฒูฺฉูพุฑ |
| `KAFKA_ADVERTISED_LISTENERS` | INTERNAL://kafka:9092,EXTERNAL://localhost:9093 | ูุณุชโฺฉููุฏูโูุง |

## ๐ ุชููู ุณุฑูุณโูุง


# ุชููู ุจุง ุญูุธ ุฏุงุฏูโูุง

```bash
docker-compose down
```
# ุชููู ุจุง ุญุฐู ฺฉุงูู ุฏุงุฏูโูุง

```bash
docker-compose down -v
```

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```bash
kafka-booking-system/
|-- docker-compose.yml          # ูุงู ุงุตู Docker Compose
|-- booking-service/            # ุณุฑูุณ ุฑุฒุฑู ููุจุช
|   |-- Dockerfile
|   |-- requirements.txt
|   โโโ app.py
|-- notification-service/       # ุณุฑูุณ ููุชูฺฉุดู
|   |-- Dockerfile
|   |-- requirements.txt
|   โโโ app.py
|-- frontend/                   # ุฑุงุจุท ฺฉุงุฑุจุฑ ุณุณุชู
|   |-- Dockerfile
|   |-- package.json
|   |-- app.js
|   โโโ public/
|       โโโ index.html
โโโ README.md                   # ูุณุชูุฏุงุช ูพุฑูฺู

```

## โ๏ธ ูฺฉุงุช ููู

- ุงู ุชูุธูุงุช ููุท ุจุฑุง **ุชูุณุนู ู ุชุณุช** ููุงุณุจ ุงุณุช
- ุจุฑุง production ุจุงุฏ ุงููุช ู ูพฺฉุฑุจูุฏ ูพุดุฑูุชู ุงุถุงูู ุดูุฏ
- ุฏุงุฏูโูุง ุจู ุตูุฑุช persistent ุฐุฎุฑู ููโุดููุฏ ูฺฏุฑ volume ุชุนุฑู ุดูุฏ


---

** ุงุฌุงุฏ ู ุชูุณุนู ุฌูุช ุฏุฑุณ ุจุฑูุงูู ููุณ ุณูุช ุณุฑูุฑ ุฏฺฉุชุฑ ุจุงุจุงููุงู**